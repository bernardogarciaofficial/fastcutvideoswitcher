<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DiceCut Music Video Mixer</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <h2>DiceCut Multi-Track Music Video Editor</h2>

  <div class="audio-track-block">
    <input type="file" id="songInput" accept="audio/*" />
    <span id="audioStatus"></span>
    <audio id="audio" controls style="display:none"></audio>

    <div class="dice-controls">
      <label>
        BPM
        <input id="bpmInput" type="number" min="40" max="240" value="120" />
      </label>
      <label>
        Bars per cut
        <input id="barsInput" type="number" min="1" max="32" value="8" />
      </label>

      <div class="dice-row">
        <button id="rollDiceBtn" class="dice-edit-btn">ðŸŽ²ðŸŽ² Roll Dice (Create Switch Plan)</button>
        <span id="diceEditStatus" class="dice-edit-status"></span>
      </div>

      <div class="dice-row">
        <button id="startAutoBtn" class="export-btn">Start Auto Switching (Preview)</button>
        <button id="stopAutoBtn" class="export-btn secondary">Stop</button>
      </div>
    </div>
  </div>

  <div id="tracksContainer"></div>

  <div id="trackSwitcher" class="track-switcher"></div>

  <div class="master-output-section">
    <h3>Master Output Video</h3>
    <video id="masterOutputVideo" controls width="600" height="340"></video>
    <div style="margin-top:16px;">
      <button id="exportBtn" class="export-btn">Export Music Video</button>
      <span id="exportStatus" class="export-status"></span>
    </div>
  </div>

  <!-- Hidden canvas used for the master mix render -->
  <canvas id="mixCanvas" width="600" height="340" style="display:none"></canvas>

  <script src="script.js"></script>
</body>
</html>
